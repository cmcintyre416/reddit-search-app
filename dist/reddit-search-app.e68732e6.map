{"version":3,"sources":["redditApi.js","index.js"],"names":["search","searchTerm","searchLimit","sortBy","fetch","then","res","json","data","children","map","catch","console","log","err","searchForm","document","getElementById","searchInput","addEventListener","value","querySelector","showMessage","reddit","output","results","forEach","image","post","preview","images","source","url","title","makeTextSmaller","selftext","innerHTML","e","preventDefault","message","className","div","createElement","appendChild","createTextNode","searchContainer","insertBefore","setTimeout","remove","text","limit","shortText","indexOf","substring"],"mappings":"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","file":"reddit-search-app.e68732e6.map","sourceRoot":"..","sourcesContent":["export default {\n    search: function(searchTerm, searchLimit, sortBy) {\n    return fetch (\n        `http://www.reddit.com/search.json?q=${searchTerm}&sort=${sortBy}&limit=${searchLimit}`\n    )\n        .then(res => res.json())\n        .then(data => data.data.children.map(data => data.data))\n        .catch(err => console.log(err));\n    }\n};","import reddit from './redditApi';\n\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\n\nsearchForm.addEventListener('submit', e => {\n    //we need to get the search term\n    const searchTerm = searchInput.value;\n    // we need to get the sort\n    const sortBy = document.querySelector('input[name=\"sortby\"]:checked').value;\n    //we need to get the limit\n    const searchLimit = document.getElementById('limit').value;\n\n    //see if anything is checked\n    if(searchTerm === ''){\n        showMessage('Please Make Sure You Added Search Term', 'alert-danger');\n    }\n\n    searchInput.value = '';\n\n    reddit.search(searchTerm, searchLimit, sortBy).then(results => {\n        let output = '<div class=\"card-columns\">';\n        results.forEach(post => {\n            const image = post.preview ? post.preview.images[0].source.url : 'https://vignette.wikia.nocookie.net/roosterteeth/images/1/10/Reddit.png/revision/latest?cb=20171218051745';\n            output += `\n            <div class=\"card\" style=\"width: 18rem;\">\n                <img class=\"card-img-top\" src=\"${image}\" alt=\"Card image cap\">\n                <div class=\"card-body\">\n                    <h5 class=\"card-title\">${post.title}</h5>\n                    <p class=\"card-text\">${makeTextSmaller(post.selftext, 100)}</p>\n                    <a href=\"${post.url}\" class=\"btn btn-primary\">Go somewhere</a>\n                </div>\n            </div>\n            `;\n        });\n        output += '</div>';\n        document.getElementById('results').innerHTML = output;\n    });\n\n    e.preventDefault();\n});\n\n//The function we need to create for the show message\nfunction showMessage(message, className) {\n\n    const div = document.createElement('div');\n\n    div.className = `alert ${className}`;\n\n    div.appendChild(document.createTextNode(message));\n\n    const searchContainer = document.getElementById('search-container');\n\n    const search = document.getElementById('search');\n\n    //call insert before to insert before seatch element\n    searchContainer.insertBefore(div, search);\n\n    //need to timeout alert\n    setTimeout(() => document.querySelector('.alert').remove(), 3000);\n}\n\nfunction makeTextSmaller(text, limit) {\n    const shortText = text.indexOf(' ', limit);\n\n    if (shortText == -1) return text;\n\n    return text.substring(0, shortText);\n}"]}